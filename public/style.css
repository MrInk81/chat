
:root{--koralle:#d96b58;--lavendel:#7f6db5;--smaragd:#0b615a;--rot:#cc0000;--schwarz:#111;--grau:#777;--tuerkis:#00bfa6}
*{box-sizing:border-box}html,body{height:100%;margin:0;font-family:system-ui,Segoe UI,Roboto,Arial;overflow:hidden}
.app{display:grid;grid-template-columns:320px 1fr;grid-template-rows:auto 1fr;grid-template-areas:"header header" "side chat";height:100vh}
.header{grid-area:header;display:flex;align-items:center;justify-content:space-between;padding:10px 16px;background:#fff;border-bottom:3px solid var(--koralle)}
.brand{display:flex;align-items:center;gap:12px}
.brand img{height:48px}
.brand .title{font-weight:800}
.live{display:flex;align-items:center;gap:14px}
.stat{padding:8px 12px;border-radius:999px;background:#f6f6f9;border:1px solid #e7e7ee;font-weight:600}
#notifBtn{position:relative;border:none;border-radius:999px;padding:10px 12px;background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.08);cursor:pointer}
#notifBtn svg{width:28px;height:28px}
.badge{position:absolute;right:-2px;top:-2px;background:#e11;color:#fff;border-radius:999px;font-size:12px;line-height:18px;height:18px;min-width:18px;text-align:center;padding:0 4px}
.side{grid-area:side;display:flex;flex-direction:column;background:#fff;border-right:1px solid #eee;overflow:auto}
.section-title{font-size:12px;letter-spacing:.08em;text-transform:uppercase;color:#666;margin:12px 12px 4px}
.rooms{padding:8px 12px;display:flex;flex-direction:column;gap:8px}
.room{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;border:1px solid #eee;background:#fafafa;cursor:pointer;transition:all .15s}
.rooms .room:nth-child(1){border-left:4px solid var(--koralle)}
.rooms .room:nth-child(2){border-left:4px solid var(--lavendel)}
.rooms .room:nth-child(3){border-left:4px solid var(--smaragd)}
.rooms .room:nth-child(4){border-left:4px solid var(--tuerkis)}
.room.active{outline:2px solid rgba(0,0,0,.06);background:#fff}
.online{flex:1;overflow:auto;padding:8px 12px}
.person{display:flex;flex-direction:column;align-items:flex-start;align-items:center;justify-content:space-between;padding:8px 10px;border-radius:10px}
.dot{width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:8px}
.dot.green{background:#2ecc71}.dot.orange{background:#ffa500}
.role-admin{color:var(--rot)} .role-mod{color:var(--lavendel)} .role-buerger{color:var(--schwarz)} .role-anon{color:#555}
.footer{padding:10px 12px;border-top:1px solid #eee;font-size:12px;color:#444}
.chat{grid-area:chat;display:flex;flex-direction:column;min-height:0}
.roombar{display:flex;align-items:center;justify-content:space-between;padding:8px 16px;border-bottom:1px solid #eee  background: linear-gradient(90deg, rgba(217,107,88,0.30) 0%, rgba(127,109,181,0.30) 45%, rgba(11,97,90,0.30) 85%, rgba(255,255,255,0.06) 92%, rgba(255,255,255,1) 100%);box-shadow: 0 1px 0 rgba(0,0,0,.05), 0 6px 16px -10px rgba(0,0,0,.25);background:linear-gradient(90deg, rgba(217,107,88,.45) 0%, rgba(127,109,181,.45) 45%, rgba(11,97,90,.45) 78%, rgba(255,255,255,.18) 90%, rgba(255,255,255,1) 100%);box-shadow:0 2px 10px rgba(0,0,0,.06), inset 0 -1px 0 rgba(0,0,0,.04);}
.roomname{font-weight:700;font-size:14px;color:#444}
.messages{flex:1;min-height:0;overflow:auto;position:relative;padding:16px;background:#fff}

.msg{margin:6px 0;padding:8px 12px;border-radius:12px;border:1px solid #eee;background:#fff;max-width:70%;align-self:flex-start}
.msg.reply{margin-left:16px; background:#fbfdff; border-color:#e5ecf7}
.msg.mine{border-color:#cde;box-shadow:0 1px 2px rgba(0,0,0,.06)}
.meta{font-size:12px;opacity:.75;margin-bottom:4px}
.text{font-size:15px;line-height:1.4}
.blur .rest{filter:blur(6px)}
.composer{display:flex;gap:8px;flex-direction:row;align-items:stretch;padding:10px;border-top:1px solid #eee;background:#fff;position:sticky;bottom:0}
.composer input[type=text]{ flex:1; width:100%; padding:14px 16px;font-size:16px;border:1px solid #ddd;border-radius:12px}
.composer button{padding:12px 18px;font-size:15px}
.replyPill{display:none;align-items:center;gap:8px;padding:6px 10px;border:1px dashed #ccc;border-radius:10px}
.replyPill.open{display:flex}
.replyPill .cancel{cursor:pointer}
.btn{padding:10px 14px;border-radius:12px;border:1px solid #ddd;background:#fff;cursor:pointer;font-weight:700}
.btn.primary{background:var(--smaragd);color:#fff;border-color:transparent}
.btn.mini{padding:6px 10px;border-radius:10px;font-size:13px}
.trash{float:right;background:transparent;border:none;cursor:pointer;opacity:.6}
.trash:hover{opacity:1}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.3);display:none;align-items:center;justify-content:center;z-index:50}
.modal.open{display:flex}
.card{position:relative;background:#fff;border-radius:16px;max-width:760px;width:min(92%,760px);padding:20px;box-shadow:0 14px 40px rgba(0,0,0,.2)}
.card .closeX{position:absolute;right:12px;top:10px;border:none;background:transparent;font-size:26px;color:var(--koralle);cursor:pointer}
.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
#notifCenter .item{border:1px solid #eee;border-radius:10px;padding:10px;margin:6px 0;cursor:pointer;background:#fff}
#notifCenter .item:hover{background:#fafafa}
#notifCenter .meta{font-size:12px;opacity:.75;margin-bottom:4px}
#notifCenter .type{font-weight:700}
.burger{display:none}
@media (max-width: 900px){
  .app{grid-template-columns:1fr;grid-template-areas:"header" "chat"}
  .side{position:fixed;left:0;top:64px;bottom:0;width:84%;max-width:360px;transform:translateX(-110%);transition:transform .2s ease;z-index:30}
  .side.open{transform:translateX(0)}
  .burger{display:inline-flex;align-items:center;gap:6px;padding:8px 10px;border-radius:10px;border:1px solid #eee;background:#fff}
  #installBtn{display:inline-flex}
}
#installBtn{display:none;padding:8px 12px;border-radius:12px;border:1px solid #eee;background:#koralle;color:#fff;font-weight:800}
.person .actions{display:flex;gap:6px;flex-wrap:wrap;margin-left:18px;margin-top:4px}
.person .actions .btn{padding:2px 6px;border-radius:10px;font-size:10px}

/* v9.2 button look */
.composer #sendBtn{background:var(--koralle);color:#fff;border-color:transparent;border:0;border-radius:14px;box-shadow:0 2px 6px rgba(0,0,0,.08);font-weight:800}
.composer #sendBtn:hover{filter:brightness(0.95)}

.msg.reply .meta::before{content:'↪︎ '; color:#7f6db5; font-weight:700}

.person .topline{display:flex;align-items:center;gap:8px}

.roombar .roomactions a{cursor:pointer}

.card .minBtn{position:absolute;right:44px;top:10px;border:none;background:transparent;font-size:26px;color:#7f6db5;cursor:pointer}

.messages > *{position:relative;z-index:1}

.admin{color:var(--rot)}.mod{color:var(--lavendel)}.citizen{color:var(--schwarz)}.anon{color:#666}

.online{display:block;text-align:left}
.person{align-items:flex-start!important;justify-content:flex-start!important;width:100%}
.person .actions{margin-left:18px}

.citizen{color:var(--smaragd)} .anon{color:#666}

.online .group{border-top:1px solid #eee;padding-top:8px;margin-top:8px}
.online .group:first-child{border-top:none;margin-top:0;padding-top:0}

#statCitizens{border-color:rgba(11,97,90,.25); color:var(--smaragd)} #statAdmins{border-color:rgba(127,109,181,.25); color:var(--lavendel)}

.online .empty{color:#888;font-size:13px;margin:8px 12px}
#notifBadge{display:none}

/* v9.12 message layout fixes */
.msg{position:relative;padding:10px 38px 12px 12px; border-radius:12px; border:1px solid rgba(127,109,181,.25); margin:10px 0; background:#fff}
.msg .meta{font-size:13px; opacity:.9; margin-bottom:6px}
.msg .text{min-height:20px; color:#111}
.msg .replyMeta{font-size:12px; color:#7f6db5; margin:-2px 0 6px}
.msg .trash{position:absolute; right:10px; top:10px; opacity:.55; background:transparent; border:0; cursor:pointer}
@media (hover:hover){ .msg .trash{opacity:.15} .msg:hover .trash{opacity:.6} }

/* hotfix3: zentriertes Wasserzeichen-Logo */

.messages > *{ position:relative; z-index:1 }
#notifCenter .item{ cursor:pointer; }
#notifCenter .hint{ font-size:12px; color:#666; margin-top:4px; }

/* hotfix6: fixes watermark logo */
.messages::before{
  content:"";
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  pointer-events:none;
  background:url('/logo.png') center/50% no-repeat;
  opacity:.25;
  z-index:0;
}
.messages > *{ position:relative; z-index:1 }

/* hotfix9: Ampel-Farben für Verwarnungs-Popup */
.modal.warn .card{transition:box-shadow .2s ease, transform .1s ease}
.modal.warn .card:hover{transform:translateY(-1px); box-shadow:0 10px 24px rgba(0,0,0,.12)}
.modal.warn.l1 .card{background:linear-gradient(180deg, rgba(46,204,113,.12), rgba(46,204,113,.06)); border:1px solid rgba(46,204,113,.35)}
.modal.warn.l2 .card{background:linear-gradient(180deg, rgba(243,156,18,.12), rgba(243,156,18,.06)); border:1px solid rgba(243,156,18,.35)}
.modal.warn.l3 .card{background:linear-gradient(180deg, rgba(231,76,60,.12), rgba(231,76,60,.06)); border:1px solid rgba(231,76,60,.35)}
/* Close-X im Warnmodal ausblenden – nur „Verstanden“-Button */
.modal.warn .closeX{display:none!important}
/* Button etwas prominenter */
.modal.warn .actions .btn.primary{padding:.6rem 1rem; font-weight:600}


/* hotfix10: kräftigere Ampel-Farben & angepasste Textfarben */
.modal.warn.l1 .card{
  background: linear-gradient(180deg, rgba(46,204,113,.28), rgba(46,204,113,.12));
  border: 1px solid rgba(46,204,113,.55);
}
.modal.warn.l2 .card{
  background: linear-gradient(180deg, rgba(230,126,34,.28), rgba(230,126,34,.12));
  border: 1px solid rgba(230,126,34,.55);
}
.modal.warn.l3 .card{
  background: linear-gradient(180deg, rgba(231,76,60,.30), rgba(231,76,60,.14));
  border: 1px solid rgba(231,76,60,.60);
}
/* Headline/Text einfärben */
.modal.warn.l1 h2, .modal.warn.l1 p, .modal.warn.l1 .meta, .modal.warn.l1 #warnText{ color:#2ecc71 }
.modal.warn.l2 h2, .modal.warn.l2 p, .modal.warn.l2 .meta, .modal.warn.l2 #warnText{ color:#e67e22 }
.modal.warn.l3 h2, .modal.warn.l3 p, .modal.warn.l3 .meta, .modal.warn.l3 #warnText{ color:#e74c3c }
/* Button-Kante leicht einfärben, ohne die Primärfarbe zu ändern */
.modal.warn.l1 .actions .btn.primary{ border:1px solid rgba(46,204,113,.55) }
.modal.warn.l2 .actions .btn.primary{ border:1px solid rgba(230,126,34,.55) }
.modal.warn.l3 .actions .btn.primary{ border:1px solid rgba(231,76,60,.60) }



/* hotfix11: Vollflächige Warnfarben, schwarze Schrift, Pulseffekt beim Öffnen */
@keyframes pulseOnceGreen {
  0%{box-shadow:0 0 0 rgba(46,204,113,0.6);transform:scale(1)}
  40%{box-shadow:0 0 20px rgba(46,204,113,0.8);transform:scale(1.02)}
  100%{box-shadow:0 0 0 rgba(46,204,113,0);transform:scale(1)}
}
@keyframes pulseOnceOrange {
  0%{box-shadow:0 0 0 rgba(230,126,34,0.6);transform:scale(1)}
  40%{box-shadow:0 0 20px rgba(230,126,34,0.8);transform:scale(1.02)}
  100%{box-shadow:0 0 0 rgba(230,126,34,0);transform:scale(1)}
}
@keyframes pulseOnceRed {
  0%{box-shadow:0 0 0 rgba(231,76,60,0.6);transform:scale(1)}
  40%{box-shadow:0 0 20px rgba(231,76,60,0.9);transform:scale(1.03)}
  100%{box-shadow:0 0 0 rgba(231,76,60,0);transform:scale(1)}
}
.modal.warn.l1 .card{
  background:#2ecc71;
  color:#000;
  border:1px solid #27ae60;
  border-radius:0;
  animation:pulseOnceGreen 1s ease;
}
.modal.warn.l2 .card{
  background:#e67e22;
  color:#000;
  border:1px solid #d35400;
  border-radius:0;
  animation:pulseOnceOrange 1s ease;
}
.modal.warn.l3 .card{
  background:#e74c3c;
  color:#000;
  border:1px solid #c0392b;
  border-radius:0;
  animation:pulseOnceRed 1s ease;
}
.modal.warn.l1 h2, .modal.warn.l2 h2, .modal.warn.l3 h2,
.modal.warn.l1 p, .modal.warn.l2 p, .modal.warn.l3 p,
.modal.warn.l1 #warnText, .modal.warn.l2 #warnText, .modal.warn.l3 #warnText{
  color:#000;
}


.roombar{position:relative}
.roombar .centerlink{position:absolute;left:50%;transform:translateX(-50%);}
.roombar .centerlink a{text-decoration:none}



.msg{display:inline-block;width:fit-content;max-width:100%;word-wrap:break-word;word-break:break-word}



.msg{display:block;width:fit-content;max-width:100%;word-wrap:break-word;word-break:break-word;margin-bottom:0.5rem}



.chat{position:relative}
.chat .chat-watermark{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  opacity:0.5;
  width: 55vmin;
  max-width: 70%;
  pointer-events:none;
  z-index:0;
  filter: none;
}
.chat .messages{position:relative; z-index:1; background:transparent}


/* Blur for muted users */
.blurred{filter: blur(5px);} .blurred *{pointer-events:none}
/* Welcome modal text colors */
.google-text { color:#009879; font-weight:700; }

.room[data-id="vereine"],
.room.vereine {
  border-left: 4px solid #00bfa6;
  background: linear-gradient(90deg, rgba(0,191,166,0.05), transparent);
}
.room.active[data-id="vereine"],
.room.active.vereine {
  background: linear-gradient(90deg, rgba(0,191,166,0.15), white);
}
.room[data-id="vereine"]:hover,
.room.vereine:hover {
  background: linear-gradient(90deg, rgba(0,191,166,0.1), transparent);
}

/* --- Raum "Vereine" Türkis Sidebar Fix --- */
.room.vereine {
  border-left: 4px solid #00bfa6;
  background: linear-gradient(90deg, rgba(0,191,166,0.05), transparent);
}
.room.vereine.active {
  background: linear-gradient(90deg, rgba(0,191,166,0.15), white);
}
.room.vereine:hover {
  background: linear-gradient(90deg, rgba(0,191,166,0.1), transparent);
}

/* Muted: full blur on message text */
.messages .text.fullblur{ filter: blur(6px); }


/* === Burger Menu Styles === */
.burger-menu {
  display: none;
  font-size: 28px;
  cursor: pointer;
  user-select: none;
}

.side-menu {
  position: fixed;
  top: 0;
  right: -250px;
  width: 250px;
  height: 100%;
  background: #111;
  color: white;
  display: flex;
  flex-direction: column;
  padding-top: 60px;
  transition: right 0.3s ease;
  z-index: 1000;
}

.side-menu a {
  color: white;
  text-decoration: none;
  padding: 15px 25px;
  border-bottom: 1px solid #333;
}

.side-menu.open {
  right: 0;
}

/* Sichtbarkeit nur auf Mobile/Tablet */
@media (max-width: 1024px) {
  nav {
    display: none;
  }
  .burger-menu {
    display: block;
  }
}
